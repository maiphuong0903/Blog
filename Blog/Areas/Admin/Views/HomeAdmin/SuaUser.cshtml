@model Blog.Models.Account

@{
    ViewData["Title"] = "SuaUser";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"> </script>
<script type="text/javascript">
    function SuaUser() {
        event.preventDefault();
        var AccoutID = document.getElementById("AccoutID").value;
        var FullName = document.getElementById("FullName").value;
        var Email = document.getElementById("Email").value;
        var Password = document.getElementById("Password").value;
        var CreateDate = document.getElementById("CreateDate").value;
        var RoleId = document.getElementById("RoleId").value;
        var Description = document.getElementById("Description").value;

        var url = 'https://localhost:7137/api/UserAPI?accountId=' + AccoutID
            + '&fullName=' + FullName + '&email=' + Email + '&password=' + Password + '&createDate=' + CreateDate + '&roleID=' + RoleId + '&description=' + Description;
        $.ajax({
            url: url,
            method: 'PUT',
            contentType: 'json',
            dataType: 'json',
            error: function (response) {
                console.log("Chưa sửa thành công")
            },
            success: function (reponse) {
                console.log(reponse)
                window.location.href = 'https://localhost:7137/admin/homeadmin/ListUser/';
            }
        });
    }
</script>

<h1 class="text-xl font-semibold mt-9">Sửa Người Dùng</h1>
<hr />
<div class="mt-7">
    <form asp-action="SuaUser" class="w-full max-w-sm">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    AccountID
                </label>
            </div>
            <div class="md:w-2/3">
                <input asp-for="AccountId" disabled id="AccoutID" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" />
                <span asp-validation-for="AccountId" class="text-danger"></span>
            </div>
        </div>

        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    FullName
                </label>
            </div>
            <div class="md:w-2/3">
                <input asp-for="FullName" id="FullName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" />
                <span asp-validation-for="FullName" class="text-danger"></span>
            </div>
        </div>

        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    Email
                </label>
            </div>
            <div class="md:w-2/3">
                <input asp-for="Email" id="Email" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>

        </div>

        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    Password
                </label>
            </div> <div class="md:w-2/3">
                <input asp-for="Password" id="Password" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" />
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>
        </div>

        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    CreateDate
                </label>
            </div>
            <div class="md:w-2/3">
                <input asp-for="CreateDate" id="CreateDate" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" />
                <span asp-validation-for="CreateDate" class="text-danger"></span>
            </div>
        </div>

        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    RoleId
                </label>
            </div>
            <div class="md:w-2/3">
                <select asp-for="RoleId" id="RoleId" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" asp-items="ViewBag.RoleId"></select>
            </div>
        </div>

        <div class="md:flex md:items-center mb-6">
            <div class="md:w-1/3">
                <label class="block md:text-left mb-1 md:mb-0 pr-4">
                    Description
                </label>
            </div>
            <div class="md:w-2/3">
                <input asp-for="Description" id="Description" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" />
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
        </div>

        <div class="md:flex md:items-center">
            <div class="md:w-1/3"><a asp-action="Index">Back to List</a></div>
            <div class="md:w-2/3">
                <input type="submit" value="Save" onclick="SuaUser()" class="shadow bg-blue-400 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded" />
            </div>
        </div>
    </form>

</div>
